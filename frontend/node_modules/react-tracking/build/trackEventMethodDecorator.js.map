{"version":3,"sources":["../src/trackEventMethodDecorator.js"],"names":["trackEventMethodDecorator","trackingData","decoratedFn","decorateClassMember","args","trackEvent","props","tracking","promiseArguments","thisTrackingData","state","fn","Reflect","apply","Promise","resolve","then","bind","error"],"mappings":"mHAAA,4F,oFAEe,QAASA,CAAAA,yBAAT,EAAsD,IAAnBC,CAAAA,YAAmB,2DAAJ,EAAI,CACnE,MAAO,yCACL,SAAAC,WAAW,QACT,SAASC,CAAAA,mBAAT,EAAsC,8CAANC,IAAM,0CAANA,IAAM,uBACpC,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAyB,CAC1C,GACE,KAAI,CAACC,KAAL,EACA,KAAI,CAACA,KAAL,CAAWC,QADX,EAEA,MAAO,CAAA,KAAI,CAACD,KAAL,CAAWC,QAAX,CAAoBF,UAA3B,GAA0C,UAH5C,CAIE,gCALmBG,gBAKnB,+CALmBA,gBAKnB,yBACA,GAAMC,CAAAA,gBAAgB,CACpB,MAAOR,CAAAA,YAAP,GAAwB,UAAxB,CACIA,YAAY,CAAC,KAAI,CAACK,KAAN,CAAa,KAAI,CAACI,KAAlB,CAAyBN,IAAzB,CAA+BI,gBAA/B,CADhB,CAEIP,YAHN,CAIA,GAAIQ,gBAAJ,CAAsB,CACpB,KAAI,CAACH,KAAL,CAAWC,QAAX,CAAoBF,UAApB,CAA+BI,gBAA/B,CACD,CACF,CACF,CAdD,CAgBA,GAAME,CAAAA,EAAE,CAAGC,OAAO,CAACC,KAAR,CAAcX,WAAd,CAA2B,IAA3B,CAAiCE,IAAjC,CAAX,CACA,GAAIU,OAAO,EAAIA,OAAO,CAACC,OAAR,CAAgBJ,EAAhB,IAAwBA,EAAvC,CAA2C,CACzC,MAAOA,CAAAA,EAAE,CACNK,IADI,CACCX,UAAU,CAACY,IAAX,CAAgB,IAAhB,CADD,EAEJD,IAFI,CAEC,iBAAML,CAAAA,EAAN,CAFD,WAGE,SAAAO,KAAK,CAAI,CACdb,UAAU,CAAC,EAAD,CAAKa,KAAL,CAAV,CACA,KAAMA,CAAAA,KACP,CANI,CAOR,CACDb,UAAU,GACV,MAAOM,CAAAA,EACR,CA9BQ,CADN,CAiCR","sourcesContent":["import makeClassMemberDecorator from './makeClassMemberDecorator';\n\nexport default function trackEventMethodDecorator(trackingData = {}) {\n  return makeClassMemberDecorator(\n    decoratedFn =>\n      function decorateClassMember(...args) {\n        const trackEvent = (...promiseArguments) => {\n          if (\n            this.props &&\n            this.props.tracking &&\n            typeof this.props.tracking.trackEvent === 'function'\n          ) {\n            const thisTrackingData =\n              typeof trackingData === 'function'\n                ? trackingData(this.props, this.state, args, promiseArguments)\n                : trackingData;\n            if (thisTrackingData) {\n              this.props.tracking.trackEvent(thisTrackingData);\n            }\n          }\n        };\n\n        const fn = Reflect.apply(decoratedFn, this, args);\n        if (Promise && Promise.resolve(fn) === fn) {\n          return fn\n            .then(trackEvent.bind(this))\n            .then(() => fn)\n            .catch(error => {\n              trackEvent({}, error);\n              throw error;\n            });\n        }\n        trackEvent();\n        return fn;\n      }\n  );\n}\n"],"file":"trackEventMethodDecorator.js"}